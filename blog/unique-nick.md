---
description: Ищу уникальные ники
tags:
  - white
---

# Ищу уникальные ники

> Как я уже неоднократно упоминал, у меня есть софт для проверки занятости ников в Telegram (и других социальных сетях).

После беглого аудита у меня появилось ощущение, что все минимальные возможные ники (4-5 символов) заняты (а точнее выставлены на продажу на [fragment](https://fragment.com)).

> Но я не смог сразу проверить этот факт, потому что именно в тот момент fragment лёг.

Вернувшись к проекту через пару недель, я начал ресёрч материалов, касательно закрытого/открытого API фрагмента.

Явного упоминания открытого API на сайте/в поиске я не нашёл (что, кстати, говоря не свойственно для telegram). Значит будет интересно.

Первым делом, я, разумеется, проанализировал запросы в параметрах для разработчиков, но это не результатов.

Я уже начал задумываться о реверс-инженеринге приложения/мини-приложения в тг (кстати, такого я не нашёл). Но перед этим решил проверить базовые ссылки, так сказать методом подбора:

```
https://api.fragment.com/        | API на домене третьего уровня
https://fragment.com/simple      | Индексы всех пакетов в стиле PyPI
https://fragment.com/sitemap.xml | Карта сайта
https://fragment.com/api         |
```

И последний вариант, всё таки дал результат.

``` json
{"error":"Bad request"}
```

После этого я просто погуглил/поискал на github: "fragment.com/api", нашёл 3 репозитория и начал разбираться в одном из них.

> Когда я попытался повторить запрос в insomnia (open sourse аналог postman-а), это на удивление не дало результатов.

Скопировал код (меня интересовал только один файл из репозитория), отформатировал, переписал на aiohttp, оптимизировал для понимания логики.

> Оказалось, что сложность была в том, что fragment пробрасывает hash для доступа к API: `https://fragment.com/api?hash=9e123e5e1aab123456`.

Для проверки роботоспособности попробую докопаться до себя:

``` json
{
    'ok': True,
    'html': '<...> <div class="<...> tm-value">@iamlostshe</div><...><div class=" tm-value">Unknown</div><...><div class=" tm-value">Taken</div><...>',
    'url': '/?query=iamlostshe',
    'expire': 1759692855,
    'show_recent_bids': False
}
```

> Здесь меня заинтересовал cdn на котором телега хранит фотокарточки пользователей: cdn4.telesco.pe.
>
> А именно его домен второго уровня: telesco.pe. Он позволяет просматривать кружочки в каналах тг (а,значит даёт возможность их парсить).

---

⚠️ статья в разработке..

---

По нику можно многое сказать о человеке, а можно ли оценить его уникальность/примерную стоимость, универсальным скриптом?
