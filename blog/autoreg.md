---
description: как я делал автореги для одного популярного сервиса
tags:
  - black
---

# как я делал автореги для одного популярного сервиса

(ВЫРВАНО ИЗ КОНТЕКСТА)

проводя ресёрч информации о сервисе в интернете, я наткнулся, на github репозиторий двухлетней давности, представляющий из себя асинхронную python-обёртку для `api` сервиса.

автор репозитория откопал openapi документацию, в ходе реверс инженеринга запросов на телефоне.

разведывая openapi сервиса, я наткнулся на метод для авторизации по системе логин/пароль и вспомнил, что там до сих пор нет, ни подтверждения через почту/номер телефона, ни двухфакторной аутентификации.

значит для брута аккаунтов нам нужно где-то взять базу ников пользователей.

раньше, ради интереса я писал парсер, собирающий всю базу логинов пользователей сервиса. но была у скрипта одна проблема, которая не дала мне тогда закончить исследование - время. это было связано с ограничениями сервиса, нужно было минимум 5 секунд между запросами, во избежание блокировок.

немного переписав скрипт (там был ужас по коду) я запустил сбор логинов.

при первом запуске, собрав почти треть юзернеймов, я потерял базу из-за отключения электричества.

но со второго раза всё получилось.

``` md
всего собрано ников: 2 122 083.
всего собрано страниц: 9 844.
```

время на парсинг всех ников: ~14 часов

интересно то, что много людей указывают номера телефона в качестве ника, сомнительное решение.. я подсуетился и написал скрипт для поиска телефонных номеров в никах:

всего собрано номеров: 4958, 0.23% (от собранных ников).

ник = номер: 3657, 73.8% (от найденных номеров).
номер в конце: 667, 13.5% (от найденных номеров).
номер в начале: 595, 12% (от найденных номеров).
другое: 39, 0.8% (от найденных номеров).

также, скриптом для поиска аномалий найдены 4 ника (данные анонимизированы):

``` md
'https://example.com/user/7777777777 '
'https://example.com/user/iamlostshe1\n'
'https://example.com/user/iamlostshit\n'
'https://example.com/user/iamlost_aim\n'
```

из интересных символов здесь фигурирует ' ' (пробел) и '\n' (символ переноса строки).

> кстати, первая страница переводит на тех. работы.

> будет круто оставить отслку, в авторегах и регистрировать все аккаунты с ником, типа:
>
> `iamlostshe_1\n`

аномалии больше похожи на непроизвольные, как минимум потому, что профили людей выглядят настоящими и не связаны с программированием.

даты регистрации аномальных аккаунтов разбросаны, последняя - май 2025, а это значит, что скорее всего до сих пор можно делать интересные ники.

что дальше?

1. попробую зарегистрировать аккаунт с пробелом или переносом строки, кириллическими символами. посмотрим, как на это будут реагировать люди/администраторы сервиса. (по крайней мере метод апи, отвечающий за проверку доступности ника не ругается на "яемлосше").

> ник с пробелом зарегистрировать не даёт. аккаунты со '\n' регистрируются, '\n' считается за один символ (минимум 4) и любое кол-во '\n' считается занятым ником (то есть нужно добавить что-то в начале/конце/посередине).

2. попытаюсь брутить акки. cпойлер: меня (спойлер: не только меня) заблокировали по ip, видимо плохой идеей было посылать 20 запросов за минуту с одного ip. значится, собираем ботнет..

3. продолжая ветку авторегов: в `api` есть метод для регистрации аккаунта, он не просит почты/номера телефона, но возможно предоставляет ограниченные возможности (однако, возможно их можно обойти напрямую через `api`).

4. нужно задуматься о прокси (желательно мобильных). для брута и авторегов пригодится.

