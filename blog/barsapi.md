---
description: о изменениях в проекте bars-api
tags:
  - white
---

# о изменениях в проекте bars-api

многие знают меня по проекту [pars-diary](https://github.com/iamlostshe/pars-diary), сегодня речь пойдёт именно о нём.

на данный момент проект является убыточным. я потратил много средств на его содержание.

но сейчас, у меня есть план монетезации бота.

но перед этим нужно его подготовить:

- разобраться с архитектурой.
- навести красоту по коду (т.к. проект open source).

так сказать, подготовить "фундамент", на который в будущем будет накладываться всё остальное.

первым шагом в плане "подготовки почвы" числится библиотека, для работы с `api` дневников - [bars-api](https://github.com/iamlostshe/bars-api).

почему было решено вынести работу с `api` в отдельную библиотеку?

во первых, это конечно модульность решения, можно спокойно редактировать библиотеку, не зависимо от pars-diary, а потом просто обновить зависимости в pyproject.toml.

во вторых, хотел форкнуть уже существующую библиотеку BarsAPI (на данный момент от изначальной библиотеки ничего не осталось).

начал, с оптимизации кодовой базы библиотеки. на удивление, там было много сомнительных решений.

добавил пару служебных изменений (.gitignore, .vscode, ruff).

и самое интересное, что я хотел бы выделить: сделал [документацию к библиотеке](https://bars-api.readthedocs.io/ru/latest/).

обычно разработчики не запариваются и делают документации на морально устаревших файлах формата .rst, однако, я решил писать на .md. а это значило, что мне придётся разобраться с vitepress.

в скором времени еще планирую привести JSON ответы библиотеки в python-объекты, чтобы работали подсказки IDE. Да и вообще, это выглядит лучше, органичнее, что-ли.

``` python
user_data["name"] -> user_data.name
```

[документация](https://bars-api.readthedocs.io/ru/latest/), как и исходный код открыта, для всех желающих:

https://bars-api.readthedocs.io/ru/latest/
