---
description: О изменениях в проекте bars-api
tags:
  - white
---

# О изменениях в проекте bars-api

Многие знают меня по проекту [pars-diary](https://github.com/iamlostshe/pars-diary), сегодня речь пойдёт именно о нём.

На данный момент проект является убыточным. я потратил много средств на его содержание.

Но сейчас, у меня есть план монетезации бота.

Однако, перед этим нужно его подготовить:

- Разобраться с архитектурой.
- Навести красоту по коду (т.к. проект open source).

Так сказать, подготовить "фундамент", на который в будущем будет накладываться всё остальное.

Первым шагом в плане "подготовки почвы" числится библиотека, для работы с `api` дневников - [bars-api](https://github.com/iamlostshe/bars-api).

Почему было решено вынести работу с `api` в отдельную библиотеку?

Во первых, это конечно модульность решения, можно спокойно редактировать библиотеку, не зависимо от pars-diary, а потом просто обновить зависимости в pyproject.toml.

Во вторых, хотел форкнуть уже существующую библиотеку BarsAPI (на данный момент от изначальной библиотеки ничего не осталось).

Начал, с оптимизации кодовой базы библиотеки. на удивление, там было много сомнительных решений.

Добавил пару служебных изменений (.gitignore, .vscode, ruff).

И самое интересное, что я хотел бы выделить: сделал [документацию к библиотеке](https://bars-api.readthedocs.io/ru/latest/).

Обычно разработчики не запариваются и делают документации на морально устаревших файлах формата .rst, однако, я решил писать на .md. а это значило, что мне придётся разобраться с vitepress.

В скором времени еще планирую привести JSON ответы библиотеки в python-объекты, чтобы работали подсказки IDE. Да и вообще, это выглядит лучше, органичнее, что-ли.

``` python
user_data["name"] -> user_data.name
```

[Документация](https://bars-api.readthedocs.io/ru/latest/), как и исходный код открыта, для всех желающих:

https://bars-api.readthedocs.io/ru/latest/
